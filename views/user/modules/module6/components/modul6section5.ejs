<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Penutup Modul 5 - Dana Darurat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            padding: 40px 30px;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: rotate 20s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .module-badge {
            display: inline-block;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 15px;
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
        }

        .main-content {
            padding: 40px 30px;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-title::before {
            content: '';
            width: 4px;
            height: 40px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            border-radius: 2px;
        }

        .conclusion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .conclusion-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #e3f2fd 100%);
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e1f5fe;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .conclusion-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(79, 172, 254, 0.2);
        }

        .conclusion-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
        }

        .card-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 12px;
        }

        .card-description {
            color: #5d6d7e;
            font-size: 1rem;
            line-height: 1.6;
        }

        .key-points {
            background: #fff8e1;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #ffc107;
            margin: 25px 0;
        }

        .key-points h3 {
            color: #f57c00;
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .points-list {
            list-style: none;
            padding: 0;
        }

        .points-list li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
            color: #6d4c41;
        }

        .points-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            color: #4caf50;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .quote-section {
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 100%);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin: 30px 0;
            position: relative;
            overflow: hidden;
        }

        .quote-section::before {
            content: '"';
            position: absolute;
            top: -20px;
            left: 20px;
            font-size: 8rem;
            color: rgba(255,255,255,0.3);
            font-family: serif;
        }

        .quote-text {
            font-size: 1.4rem;
            font-style: italic;
            color: #d63031;
            margin-bottom: 15px;
            position: relative;
            z-index: 2;
        }

        .quote-author {
            font-weight: 600;
            color: #e17055;
            font-size: 1.1rem;
        }

        .cta-section {
            background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%);
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: white;
            margin-top: 40px;
        }

        .cta-title {
            font-size: 2.2rem;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .cta-description {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.95;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .cta-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            max-width: 800px;
            margin: 0 auto;
        }

        .cta-button {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            color: white;
            padding: 20px 25px;
            border-radius: 15px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .cta-button:hover {
            background: rgba(255,255,255,0.25);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .button-icon {
            font-size: 1.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .button-title {
            font-size: 1.2rem;
            margin-bottom: 8px;
        }

        .button-subtitle {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .progress-indicator {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #c8e6c9;
            margin: 25px 0;
            text-align: center;
        }

        .progress-text {
            color: #2e7d32;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #c8e6c9;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            width: 83.33%; /* 5/6 modules completed */
            height: 100%;
            background: linear-gradient(90deg, #4caf50 0%, #8bc34a 100%);
            border-radius: 6px;
            animation: progressAnimation 2s ease-out;
        }

        @keyframes progressAnimation {
            0% { width: 0%; }
            100% { width: 83.33%; }
        }

        .next-module-preview {
            background: #f3e5f5;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e1bee7;
            margin: 25px 0;
        }

        .next-module-title {
            color: #7b1fa2;
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .next-module-description {
            color: #6a1b9a;
            line-height: 1.6;
        }

        .celebration-animation {
            text-align: center;
            margin: 20px 0;
        }

        .celebration-emoji {
            font-size: 3rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-15px); }
            60% { transform: translateY(-7px); }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            .header p {
                font-size: 1.1rem;
            }
            .section-title {
                font-size: 1.6rem;
            }
            .conclusion-grid {
                grid-template-columns: 1fr;
            }
            .cta-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div class="module-badge">MODUL 5</div>
                <h1>🛡️ Dana Darurat</h1>
                <p>Perisai Finansial untuk Masa Depan yang Aman</p>
            </div>
        </div>

        <div class="main-content">
            <!-- Progress Indicator -->
            <div class="progress-indicator">
                <div class="progress-text">🎯 Progress Pembelajaran: Modul 5 dari 6 Selesai!</div>
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <div style="color: #2e7d32; font-size: 0.9rem; margin-top: 5px;">83% Complete - Tinggal 1 modul lagi!</div>
            </div>

            <!-- Celebration -->
            <div class="celebration-animation">
                <div class="celebration-emoji">🎉</div>
                <p style="color: #666; margin-top: 10px;">Selamat! Anda telah menyelesaikan Modul Dana Darurat</p>
            </div>

            <!-- Kesimpulan Section -->
            <div class="section">
                <h2 class="section-title">📝 Kesimpulan Modul</h2>
                
                <div class="conclusion-grid">
                    <div class="conclusion-card">
                        <span class="card-icon">🛡️</span>
                        <h3 class="card-title">Pentingnya Dana Darurat</h3>
                        <p class="card-description">
                            Dana darurat adalah fondasi dari perencanaan keuangan yang solid. Tanpa dana darurat, 
                            kita rentan terhadap guncangan finansial yang dapat menghancurkan rencana keuangan jangka panjang.
                        </p>
                    </div>

                    <div class="conclusion-card">
                        <span class="card-icon">🎯</span>
                        <h3 class="card-title">Target yang Realistis</h3>
                        <p class="card-description">
                            Dana darurat ideal adalah 6-12 bulan pengeluaran rutin. Mulailah dengan target 3 bulan 
                            terlebih dahulu, kemudian tingkatkan secara bertahap hingga mencapai target optimal.
                        </p>
                    </div>

                    <div class="conclusion-card">
                        <span class="card-icon">💰</span>
                        <h3 class="card-title">Strategi Membangun</h3>
                        <p class="card-description">
                            Konsistensi adalah kunci. Alokasikan 10-20% pendapatan secara otomatis, manfaatkan bonus, 
                            dan terapkan prinsip "pay yourself first" untuk membangun dana darurat dengan efektif.
                        </p>
                    </div>

                    <div class="conclusion-card">
                        <span class="card-icon">🏦</span>
                        <h3 class="card-title">Penempatan yang Tepat</h3>
                        <p class="card-description">
                            Pilih instrumen yang likuid, aman, dan mudah diakses seperti tabungan, deposito, 
                            atau reksa dana pasar uang. Hindari investasi berisiko tinggi untuk dana darurat.
                        </p>
                    </div>
                </div>

                <div class="key-points">
                    <h3>🔑 Poin-Poin Kunci yang Telah Dipelajari:</h3>
                    <ul class="points-list">
                        <li>Dana darurat berbeda dengan tabungan biasa - memiliki tujuan khusus untuk emergencies</li>
                        <li>Besaran ideal 6-12 bulan pengeluaran, disesuaikan dengan profil risiko pekerjaan</li>
                        <li>Strategi "Slow and Steady" lebih efektif daripada target besar yang tidak realistis</li>
                        <li>Penempatan harus mengutamakan likuiditas dan keamanan, bukan return tinggi</li>
                        <li>Automasi adalah kunci konsistensi dalam membangun dana darurat</li>
                        <li>Review dan adjustment secara berkala sesuai dengan perubahan kondisi finansial</li>
                        <li>Dana darurat hanya boleh digunakan untuk emergencies yang sesungguhnya</li>
                    </ul>
                </div>
            </div>

            <!-- Quote Section -->
            <div class="quote-section">
                <div class="quote-text">
                    "Dana darurat bukan untuk membuat kita kaya, tapi untuk mencegah kita menjadi miskin saat krisis datang"
                </div>
                <div class="quote-author">- Financial Planning Wisdom</div>
            </div>

            <!-- Penutup Section -->
            <div class="section">
                <h2 class="section-title">🎯 Penutup</h2>
                <p style="font-size: 1.1rem; color: #5d6d7e; margin-bottom: 20px;">
                    Selamat! Anda telah menyelesaikan salah satu modul paling penting dalam perjalanan literasi keuangan. 
                    Dana darurat adalah jembatan antara teori keuangan dan praktik nyata dalam kehidupan sehari-hari.
                </p>
                
                <p style="font-size: 1.1rem; color: #5d6d7e; margin-bottom: 20px;">
                    Ingatlah bahwa membangun dana darurat bukanlah sprint, melainkan marathon. Setiap rupiah yang Anda sisihkan 
                    hari ini adalah investasi untuk ketenangan pikiran di masa depan. Mulailah dari yang kecil, tapi mulailah hari ini.
                </p>

                <p style="font-size: 1.1rem; color: #5d6d7e; margin-bottom: 25px;">
                    Dengan dana darurat yang solid, Anda telah membangun fondasi yang kuat untuk langkah-langkah finansial 
                    selanjutnya. Saatnya untuk menguji pemahaman Anda dan bersiap melangkah ke tahap berikutnya!
                </p>
            </div>

            <!-- Next Module Preview -->
            <div class="next-module-preview">
                <h3 class="next-module-title">
                    🚀 Sneak Peek: Modul 6 - Investasi untuk Pemula
                </h3>
                <p class="next-module-description">
                    Setelah memiliki dana darurat yang solid, langkah selanjutnya adalah membuat uang Anda bekerja untuk Anda. 
                    Di modul terakhir, kita akan mempelajari dasar-dasar investasi, jenis-jenis instrumen investasi, 
                    dan bagaimana memulai perjalanan investasi yang aman dan menguntungkan.
                </p>
            </div>

            <!-- Call to Action Section -->
            <div class="cta-section">
                <h2 class="cta-title">🎯 Saatnya Bertindak!</h2>
                <p class="cta-description">
                    Pengetahuan tanpa aplikasi hanyalah teori. Mari buktikan pemahaman Anda tentang dana darurat 
                    melalui quiz interaktif dan tantangan praktis yang telah kami siapkan.
                </p>

                <div class="cta-buttons">
                    <a href="#" class="cta-button" onclick="startQuiz()">
                        <span class="button-icon">📝</span>
                        <div class="button-title">Kerjakan Quiz</div>
                        <div class="button-subtitle">15 pertanyaan tentang dana darurat</div>
                    </a>

                    <a href="#" class="cta-button" onclick="startChallenge()">
                        <span class="button-icon">🏆</span>
                        <div class="button-title">Terima Tantangan</div>
                        <div class="button-subtitle">Buat rencana dana darurat personal</div>
                    </a>

                    <a href="#" class="cta-button" onclick="downloadTemplate()">
                        <span class="button-icon">📋</span>
                        <div class="button-title">Download Template</div>
                        <div class="button-subtitle">Worksheet perencanaan dana darurat</div>
                    </a>

                    <a href="#" class="cta-button" onclick="goToNextModule()">
                        <span class="button-icon">➡️</span>
                        <div class="button-title">Lanjut ke Modul 6</div>
                        <div class="button-subtitle">Investasi untuk Pemula</div>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // EJS Template Variables (simulasi untuk demo)
        const ejsData = {
            moduleName: "Dana Darurat",
            moduleNumber: 5,
            totalModules: 6,
            progressPercentage: 83.33,
            completedModules: 5,
            nextModuleName: "Investasi untuk Pemula",
            quizQuestions: 15,
            challengeTitle: "Rencana Dana Darurat Personal"
        };

        // EJS Helper Functions
        const ejsHelpers = {
            formatModuleProgress: (current, total) => {
                return `${current} dari ${total} modul selesai`;
            },
            calculateProgressPercentage: (current, total) => {
                return Math.round((current / total) * 100 * 100) / 100;
            },
            getProgressStatus: (percentage) => {
                if (percentage >= 100) return "Selesai";
                if (percentage >= 75) return "Hampir Selesai";
                if (percentage >= 50) return "Setengah Jalan";
                if (percentage >= 25) return "Baru Mulai";
                return "Belum Dimulai";
            },
            formatCelebrationMessage: (moduleName) => {
                return `Selamat! Anda telah menyelesaikan Modul ${moduleName}`;
            }
        };

        // Interactive Functions
        function startQuiz() {
            // Simulasi redirect ke halaman quiz
            alert(`🎯 Memulai Quiz Dana Darurat!\n\n` +
                  `📝 ${ejsData.quizQuestions} pertanyaan menanti Anda\n` +
                  `⏰ Estimasi waktu: 10-15 menit\n` +
                  `🎯 Passing grade: 70%\n\n` +
                  `Siap mengetes pemahaman Anda?`);
            
            // Dalam implementasi nyata:
            // window.location.href = `/quiz/module-${ejsData.moduleNumber}`;
        }

        function startChallenge() {
            alert(`🏆 Tantangan: ${ejsData.challengeTitle}\n\n` +
                  `📋 Tugas Anda:\n` +
                  `• Hitung pengeluaran bulanan\n` +
                  `• Tentukan target dana darurat\n` +
                  `• Buat strategi pencapaian\n` +
                  `• Set timeline realistis\n\n` +
                  `Siap menerima tantangan?`);
            
            // Dalam implementasi nyata:
            // window.location.href = `/challenge/emergency-fund-planner`;
        }

        function downloadTemplate() {
            alert(`📋 Template Dana Darurat akan didownload!\n\n` +
                  `📄 Yang akan Anda dapatkan:\n` +
                  `• Worksheet perhitungan pengeluaran\n` +
                  `• Template target dana darurat\n` +
                  `• Tracking sheet bulanan\n` +
                  `• Checklist implementasi\n\n` +
                  `Format: PDF & Excel`);
            
            // Dalam implementasi nyata:
            // window.open('/downloads/emergency-fund-template.pdf', '_blank');
        }

        function goToNextModule() {
            alert(`🚀 Menuju ${ejsData.nextModuleName}!\n\n` +
                  `📚 Yang akan Anda pelajari:\n` +
                  `• Dasar-dasar investasi\n` +
                  `• Jenis instrumen investasi\n` +
                  `• Strategi diversifikasi\n` +
                  `• Memulai portofolio pertama\n\n` +
                  `Siap menjadi investor?`);
            
            // Dalam implementasi nyata:
            // window.location.href = `/module/${ejsData.moduleNumber + 1}`;
        }

        // Animation on scroll
        function animateOnScroll() {
            const cards = document.querySelectorAll('.conclusion-card');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach((entry) => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            cards.forEach((card) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                card.style.transition = 'all 0.6s ease';
                observer.observe(card);
            });
        }

        // Initialize animations
        document.addEventListener('DOMContentLoaded', function() {
            animateOnScroll();
            
            // Log EJS data for debugging
            console.log('EJS Data:', ejsData);
            console.log('EJS Helpers:', ejsHelpers);
            
            // Simulate EJS rendering
            console.log('Module Progress:', ejsHelpers.formatModuleProgress(ejsData.completedModules, ejsData.totalModules));
            console.log('Progress Status:', ejsHelpers.getProgressStatus(ejsData.progressPercentage));
        });

        // Progress bar animation
        window.addEventListener('load', function() {
            const progressFill = document.querySelector('.progress-fill');
            setTimeout(() => {
                progressFill.style.transition = 'width 2s ease-out';
            }, 500);
        });
    </script>
</body>
</html>