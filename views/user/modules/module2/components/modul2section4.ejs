<section id="m2s4" class="w-full py-10 px-4 md:px-10 rounded-2xl">
  <div class="bg-[var(--putih)] rounded-3xl px-6 py-10 max-w-screen-xl mx-auto space-y-10">

    <div class="text-center">
      <h2 class="text-2xl md:text-4xl font-bold mb-4">Tentukan Tujuan Nabung</h2>
      <p class="text-base md:text-lg text-gray-600">
        Set target tabungan pribadimu dan lihat progress pencapaiannya secara visual!
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-start">
      
      <div class="bg-gray-50 rounded-xl p-6 shadow text-left flex flex-col justify-center aspect-square">
        <form id="goalSetterForm" onsubmit="event.preventDefault(); setGoal();">
          <div class="mb-4">
            <label for="goalName" class="block font-semibold mb-2">Nama Tujuan Tabungan</label>
            <input type="text" id="goalName" class="w-full border rounded px-3 py-2" placeholder="Contoh: Beli Sepeda" required>
          </div>
          <div class="mb-4">
            <label for="goalTarget" class="block font-semibold mb-2">Target Tabungan (Rp)</label>
            <input type="number" id="goalTarget" class="w-full border rounded px-3 py-2" min="1" required>
          </div>
          <div class="mb-4">
            <label for="goalCurrent" class="block font-semibold mb-2">Tabungan Saat Ini (Rp)</label>
            <input type="number" id="goalCurrent" class="w-full border rounded px-3 py-2" min="0" value="0" required>
          </div>
          <button type="submit" class="w-full bg-blue-600 text-white font-bold py-2 rounded hover:bg-blue-700 transition">Lihat Progress</button>
        </form>
      </div>

      <div class="flex flex-col gap-6">
        <div id="goalResultSection" class="bg-gray-50 rounded-xl p-6 shadow hidden text-left">
          <div class="mb-2 font-semibold text-sm text-gray-700">Progress Tujuan:</div>
          <div class="mb-3 text-xl font-bold text-blue-700" id="goalTitle"></div>
          <div class="w-full bg-gray-200 rounded-full h-4 mb-2 overflow-hidden">
            <div id="goalProgressBar" class="bg-green-500 h-4 rounded-full transition-all duration-300" style="width:0%"></div>
          </div>
          <div class="text-sm text-gray-600" id="goalProgressText"></div>
        </div>

        <div class="w-full aspect-square bg-gray-50 rounded-xl shadow overflow-hidden">
          <img src="https://raw.githubusercontent.com/abdullahmaajid/imagefundzy/main/m2s4.png" alt="Inspirasi Tujuan Nabung" class="w-full h-full object-cover">
        </div>
      </div>
    </div>
  </div>

  <script>
    function setGoal() {
      const name = document.getElementById('goalName').value;
      const target = parseInt(document.getElementById('goalTarget').value) || 1;
      const current = parseInt(document.getElementById('goalCurrent').value) || 0;
      const percent = Math.min((current / target) * 100, 100);

      document.getElementById('goalTitle').textContent = `${name} (${percent.toFixed(1)}%)`;
      document.getElementById('goalProgressBar').style.width = percent + '%';
      document.getElementById('goalProgressText').textContent = `Rp ${current.toLocaleString('id-ID')} dari Rp ${target.toLocaleString('id-ID')}`;

      document.getElementById('goalResultSection').classList.remove('hidden');
    }
  </script>
</section>